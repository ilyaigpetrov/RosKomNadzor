<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
      /*
        Josh's Custom CSS Reset
        https://www.joshwcomeau.com/css/custom-css-reset/
      */
      *, *::before, *::after {
        box-sizing: border-box;
      }
      * {
        margin: 0;
      }
      body {
        line-height: 1.5;
        -webkit-font-smoothing: antialiased;
      }
      img, picture, video, canvas, svg {
        display: block;
        max-width: 100%;
      }
      input, button, textarea, select {
        font: inherit;
      }
      p, h1, h2, h3, h4, h5, h6 {
        overflow-wrap: break-word;
      }
      #root, #__next {
        isolation: isolate;
      }
      /* Reset ends */

      :root {
        /*
          The initial theme is light but it's quickly inverted to dark.
          Dark theme should be the first theme user sees by default.
          TODO: Ponder more. E.g. valid color (green) must remain the
          same even after invertion. Also a flash/blink of colors
          during invertion must be avoided.
        */
        /*
        background-color: white; /* Not transparent. */
        /*color: black;
        /*
        border: 0 none white;
        outline: 0 none white;*/
        /*color-scheme: light;
        /* COLOR INVERTION */
        filter: invert(0); /* TODO: temporary disabled. */
      }
      :root, html, body {
        /*background: url('./gsbg.png') no-repeat;*/
        padding: 0;
        margin: 0;
      }
      body {
        --ribbon-color: #0075ff; /* #4169e1;*/
        font-family: Ubuntu, Arial, sans-serif;
        font-size: 75%;
        padding: 10px;
      }

      ul {
        list-style: none;
        padding: 0;
      }
      li {
        margin-top: 0.2rem;
      }
      a, a:visited {
        text-decoration: none;
        color: var(--ribbon-color);
      }
      label {
        vertical-align: bottom;
        /*padding: 3px;*/
      }
      input {
        vertical-align: text-bottom;
      }
      input[type="url"] {
        /*border-width: 0 0 1px 0;
        border-color: crimson;*/
        flex-grow: 1;
        /*padding: 0 3px 0 3px;*/
        /*width: 100%;*/
      }
      input[type="radio"], label {
        cursor: pointer;
      }
      #disabled:checked + label {
        color: red;
      }

      div.nowrap {
        /* Don't break sentences on spaces. */
        white-space: nowrap;
      }
      /*
      #own:checked + label:after {
        content: ":";
      }
      */
      #own ~ div {
        display: flex;
      }
      /*
      input#own ~ div:has(> input#customPacUrl):after {
        border: 5px solid lime;
        background-color: navy;
        content: "";
      }
      input#own ~ div:after:not(:empty) {
        border: 5px solid pink;
      }
      */

      .use-preferred-color-scheme {
        /*background-color: violet;
        color: darkred;*/
        /*color-scheme: light;*/
      }/*
      @media (prefers-color-scheme: dark) {
        .use-preferred-color-scheme {
          color-scheme: dark;
          background-color: green;
          color: #bfbfbf;
        }
      }
      @media (prefers-color-scheme: light) {
        .use-preferred-color-scheme {
          color-scheme: dark;
          background-color: pink;
          color: purple;
          border: 5px solid red;
        }
      }
      /*
      img.gsbg {
        z-index: -1;
        position: relative;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
      }
      */
      /*
      input:invalid {
        border: 5px solid red;
      }*/
      #customPacUrl:disabled {
        /*background-color: grey;*/ 
      }
    </style>
  </head>
  <body class="use-preferred-color-scheme">
    <!--img src="./gsbg.png" class="gsbg"-->
    <header>
      PAC-—Å–∫—Ä–∏–ø—Ç:
    </header>
    <nav>
      <form id="pacChooserForm">
        <ul>
          <li>
            <input type="radio" value="antizapret" name="pacScript" id="antizapret">
            <label for="antizapret">–ê–Ω—Ç–∏–∑–∞–ø—Ä–µ—Ç</label>
          </li>
          <li>
            <input type="radio" value="anticensority" name="pacScript" id="anticensority">
            <label for="anticensority">–ê–Ω—Ç–∏—Ü–µ–Ω–∑–æ—Ä–∏—Ç–∏</label>
          </li>
          <li>
            <input type="radio" value="own" name="pacScript" id="own" disabled>
            <label for="own">–°–≤–æ–π:</label>
            <div>
              <input id="customPacUrl" type="url" placeholder="https://example.com/proxy.pac"
                size="27"
                spellcheck="false" autocorrect="off" autocapitalize="off"
                disabled required
              >
              <button id="editPacUrlButton" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">üñâ</button>
            </div>
          </li>
          <li>
            <input type="radio" value="disabled" name="pacScript" id="disabled" checked>
            <label for="disabled">–û—Ç–∫–ª—é—á–∏—Ç—å / —Å–±—Ä–æ—Å</label>
          </li>
        </ul>
        <div class="nowrap">
          <input type="checkbox" name="reset" id="reset" checked>
          <label for="reset">–°–±—Ä–∞—Å—ã–≤–∞—Ç—å –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º</label>
        </div>
      </form>
    </nav>
    <footer style="text-align: center">
        <a id="donate" target="_blank" data-localize="__MSG_Donate__"
          href="https://github.com/anticensority/runet-censorship-bypass/wiki/–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å"
        >Donate ‚ù§</a>
    </footer>
    <script src="./index.mjs" type="module"></script>
  </body>
</html>